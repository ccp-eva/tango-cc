const url=new URL(document.location.href),subjID=url.searchParams.get("ID")||"testID",lang=url.searchParams.get("lang")||"eng-uk";let selectedAgents=url.searchParams.get("agents"),selectedBackground=url.searchParams.get("bg");const webcam=JSON.parse(url.searchParams.get("webcam"))||!1;function selectBackground(e){document.querySelectorAll(".bg-container img").forEach((e=>e.classList.remove("selected")));const t=e.getAttribute("id");document.querySelector(`.bg-img[id="${t}"]`).classList.add("selected"),selectedBackground=t}const backgrounds=document.querySelectorAll(".bg-container img");backgrounds.forEach((e=>{e.addEventListener("click",(function(){selectBackground(this)}))}));let selectedAgentsArray=[];function selectAgents(e){const t=e.getAttribute("id");if(e.classList.toggle("selected"),e.classList.contains("selected"))selectedAgentsArray.push(t);else{const e=selectedAgentsArray.indexOf(t);-1!==e&&selectedAgentsArray.splice(e,1)}selectedAgents=selectedAgentsArray.join("-")}document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".agents-container img").forEach((e=>{e.addEventListener("click",(function(){selectAgents(this)}))}))}));const button=document.getElementById("button-center-item"),handleContinueClick=()=>{const e=parseFloat(document.getElementById("touch").value),t=parseFloat(document.getElementById("fam").value),n=parseFloat(document.getElementById("test").value);window.location.href=`./tango.html?ID=${subjID}&lang=${lang}&webcam=${webcam}&touch=${e}&fam=${t}&test=${n}&bg=${selectedBackground}&agents=${selectedAgents}`};button.addEventListener("click",handleContinueClick,{capture:!1});