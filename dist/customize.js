window.addEventListener("load",(function(){document.getElementById("spinner-wrapper").style.display="none"}));const url=new URL(document.location.href),subjID=url.searchParams.get("ID")||"testID",lang=url.searchParams.get("lang")||"eng-uk";let selectedAgents=url.searchParams.get("agents"),selectedBackground=url.searchParams.get("bg");const webcam=JSON.parse(url.searchParams.get("webcam"))||!1,touch=document.getElementById("touch"),fam=document.getElementById("fam"),test=document.getElementById("test"),trialNumbers=[touch,fam,test];function selectBackground(e){document.querySelectorAll(".bg-container img").forEach((e=>e.classList.remove("selected")));const t=e.getAttribute("id");document.querySelector(`.bg-img[id="${t}"]`).classList.add("selected"),selectedBackground=t}trialNumbers.forEach((e=>{e.addEventListener("input",(function(){this.value<=0&&(this.value=1),this.value>100&&(this.value=100),""!==this.value&&(Number.isInteger(parseFloat(this.value))||(this.value=Math.round(parseFloat(this.value)))),"0"===this.value&&(this.value="")}))}));const backgrounds=document.querySelectorAll(".bg-container img");backgrounds.forEach((e=>{e.addEventListener("click",(function(){selectBackground(this)}))}));let selectedAgentsArray=[];function selectAgents(e){const t=e.getAttribute("id");if(e.classList.toggle("selected"),e.classList.contains("selected"))selectedAgentsArray.push(t);else{const e=selectedAgentsArray.indexOf(t);-1!==e&&selectedAgentsArray.splice(e,1)}selectedAgents=selectedAgentsArray.join("-")}document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".agents-container img").forEach((e=>{e.addEventListener("click",(function(){selectAgents(this)}))}))}));const allagentsCheckbox=document.getElementById("select-all-agents");allagentsCheckbox.addEventListener("change",(function(e){e.target.checked?(document.querySelectorAll(".agents-container img").forEach((e=>{e.classList.add("selected")})),selectedAgentsArray=["f01","f02","f03","f04","f05","f06","f07","f08","f09","f10","f11","f12","f13","f14","f15","f16","f17","f18","f19","f20","f21","f22","f23","f24","f25","m01","m02","m03","m04","m05","m06","m07","m08","m09","m10","m11","m12","m13","m14","m15","m16","m17","m18","m19","m20","m21","m22","m23","m24","m25"]):(document.querySelectorAll(".agents-container img").forEach((e=>{e.classList.remove("selected")})),selectedAgentsArray=[]),selectedAgents=selectedAgentsArray.join("-"),console.log(selectedAgents)}));const button=document.getElementById("button-center-item"),handleContinueClick=()=>{const e=parseFloat(document.getElementById("touch").value),t=parseFloat(document.getElementById("fam").value),n=parseFloat(document.getElementById("test").value);window.location.href=`./tango.html?ID=${subjID}&lang=${lang}&webcam=${webcam}&touch=${e}&fam=${t}&test=${n}&bg=${selectedBackground}&agents=${selectedAgents}`};button.addEventListener("click",handleContinueClick,{capture:!1});